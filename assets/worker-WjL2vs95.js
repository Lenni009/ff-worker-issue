(function(){"use strict";onmessage=async({data:s})=>{const e={buffer:await(await n(s)).arrayBuffer()};postMessage(e,{transfer:[e.buffer]}),close()};async function n({img:{width:s,height:a},buffer:o,config:e}){const r=new OffscreenCanvas(s,a),t=r.getContext("2d"),c=new Blob([o],{type:e.originalType}),f=await createImageBitmap(c);return t==null||t.drawImage(f,0,0),await r.convertToBlob(e)}})();
