<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script type="module" crossorigin src="/ff-worker-issue/assets/index-CusFkRcK.js"></script>
  </head>

  <body>
    <p>
      To reproduce:<br />
      Look at your console.<br />
      Get test files from
      <a
        href="https://github.com/Lenni009/ff-worker-issue/tree/main/public/testImages"
        target="_blank"
        >public/testImages</a
      >.<br />
      <br />
      <span style="font-weight: bold">Test 1: object unusable</span><br />
      Use the "large" files first.<br />
      Drop the test files on the file input below.<br />
      When the delay input is empty, some files should fail with the message "An
      attempt was made to use an object that is not, or is no longer,
      usable".<br />
      If none fail, try again. The error appears fairly frequently (at least on
      my machine).<br />
      Now put a number in the delay. 100 should be enough.<br />
      The error doesn't appear anymore. If it still appears, increase the number
      and try again.<br />
      <br />
      <span style="font-weight: bold">Test 2: silent error</span><br />
      This one is much harder to reproduce.<br />
      Take the "small" files from the testImages folder.<br />
      Clear the delay input.<br />
      Drop all files on the input.<br />
      Sometimes, the counter does not reach the expected number, but there also
      is no error.<br />
      If everything worked fine, either try again with the same images, or
      increase the amount of images by copy-pasting.<br />
      But even with 200 images, it's hard to reproduce.<br />
      <br>
      -> These bugs probably have to do with files being copied to workers simultaneously<br />
    </p>
    <input id="delay-input" type="number" placeholder="delay in ms" />

    <br />
    <br />
    <input id="file-upload" type="file" multiple />
  </body>
</html>
